from fastapi import APIRouter, Request
from fastapi.templating import Jinja2Templates


router = APIRouter(tags={"Home Page"})
templates = Jinja2Templates(directory="src/home_page/templates")

weather = {
    # "kurs": {
    #     "dollar": 0.59,
    #     "euro": 0.56,
    #     "bit": 97_230.94,
    # },
    "location": {
        "name": "Baku",
        "region": "Baki",
        "country": "Azerbaijan",
        "lat": 40.3953,
        "lon": 49.8822,
        "tz_id": "Asia/Baku",
        "localtime_epoch": 1732369412,
        "localtime": "2024-11-23 17:43",
    },
    "current": {
        "last_updated_epoch": 1732368600,
        "last_updated": "2024-11-23 17:30",
        "temp_c": 14.3,
        "temp_f": 57.7,
        "is_day": 0,
        "condition": {
            "text": "Overcast",
            "icon": "//cdn.weatherapi.com/weather/64x64/night/122.png",
            "code": 1009,
        },
        "wind_mph": 13,
        "wind_kph": 20.9,
        "wind_degree": 157,
        "wind_dir": "SSE",
        "pressure_mb": 1019,
        "pressure_in": 30.09,
        "precip_mm": 0,
        "precip_in": 0,
        "humidity": 82,
        "cloud": 100,
        "feelslike_c": 12.7,
        "feelslike_f": 54.9,
        "windchill_c": 13.3,
        "windchill_f": 56,
        "heatindex_c": 14.8,
        "heatindex_f": 58.6,
        "dewpoint_c": 12,
        "dewpoint_f": 53.6,
        "vis_km": 10,
        "vis_miles": 6,
        "uv": 0,
        "gust_mph": 18.7,
        "gust_kph": 30,
    },
}
currency = {
    "result": "success",
    "documentation": "https://www.exchangerate-api.com/docs",
    "terms_of_use": "https://www.exchangerate-api.com/terms",
    "time_last_update_unix": 1732406401,
    "time_last_update_utc": "Sun, 24 Nov 2024 00:00:01 +0000",
    "time_next_update_unix": 1732492801,
    "time_next_update_utc": "Mon, 25 Nov 2024 00:00:01 +0000",
    "base_code": "USD",
    "conversion_rates": {
        "USD": 1,
        "AED": 3.6725,
        "AFN": 69.0899,
        "ALL": 93.9822,
        "AMD": 389.5171,
        "ANG": 1.7900,
        "AOA": 934.0772,
        "ARS": 1006.7500,
        "AUD": 1.5382,
        "AWG": 1.7900,
        "AZN": 1.7000,
        "BAM": 1.8769,
        "BBD": 2.0000,
        "BDT": 120.2699,
        "BGN": 1.8769,
        "BHD": 0.3760,
        "BIF": 2972.8892,
        "BMD": 1.0000,
        "BND": 1.3476,
        "BOB": 7.0026,
        "BRL": 5.8132,
        "BSD": 1.0000,
        "BTN": 84.4995,
        "BWP": 13.7563,
        "BYN": 3.4117,
        "BZD": 2.0000,
        "CAD": 1.3981,
        "CDF": 2871.8698,
        "CHF": 0.8920,
        "CLP": 974.0245,
        "CNY": 7.2537,
        "COP": 4443.1117,
        "CRC": 513.6590,
        "CUP": 24.0000,
        "CVE": 105.8142,
        "CZK": 24.3202,
        "DJF": 177.7210,
        "DKK": 7.1600,
        "DOP": 61.0075,
        "DZD": 134.9007,
        "EGP": 49.6717,
        "ERN": 15.0000,
        "ETB": 122.2186,
        "EUR": 0.9596,
        "FJD": 2.2728,
        "FKP": 0.7978,
        "FOK": 7.1600,
        "GBP": 0.7978,
        "GEL": 2.7393,
        "GGP": 0.7978,
        "GHS": 16.0153,
        "GIP": 0.7978,
        "GMD": 72.3775,
        "GNF": 8689.0575,
        "GTQ": 7.8058,
        "GYD": 211.6475,
        "HKD": 7.7840,
        "HNL": 25.5491,
        "HRK": 7.2304,
        "HTG": 132.2359,
        "HUF": 394.4944,
        "IDR": 15916.7177,
        "ILS": 3.7163,
        "IMP": 0.7978,
        "INR": 84.4995,
        "IQD": 1325.1661,
        "IRR": 42282.1618,
        "ISK": 139.7586,
        "JEP": 0.7978,
        "JMD": 157.8867,
        "JOD": 0.7090,
        "JPY": 154.5952,
        "KES": 129.3300,
        "KGS": 86.4416,
        "KHR": 4105.6156,
        "KID": 1.5382,
        "KMF": 472.1099,
        "KRW": 1403.9977,
        "KWD": 0.3097,
        "KYD": 0.8333,
        "KZT": 498.2646,
        "LAK": 22213.6751,
        "LBP": 89500.0000,
        "LKR": 291.6983,
        "LRD": 182.9667,
        "LSL": 18.0985,
        "LYD": 4.9328,
        "MAD": 10.0721,
        "MDL": 18.2410,
        "MGA": 4732.5911,
        "MKD": 59.0262,
        "MMK": 2123.4326,
        "MNT": 3447.4633,
        "MOP": 8.0176,
        "MRU": 40.4329,
        "MUR": 46.5856,
        "MVR": 15.4202,
        "MWK": 1753.9342,
        "MXN": 20.4478,
        "MYR": 4.4665,
        "MZN": 64.4964,
        "NAD": 18.0985,
        "NGN": 1676.5712,
        "NIO": 37.1949,
        "NOK": 11.0836,
        "NPR": 135.1992,
        "NZD": 1.7136,
        "OMR": 0.3845,
        "PAB": 1.0000,
        "PEN": 3.7931,
        "PGK": 4.0701,
        "PHP": 58.9815,
        "PKR": 277.8096,
        "PLN": 4.1621,
        "PYG": 7930.5571,
        "QAR": 3.6400,
        "RON": 4.7739,
        "RSD": 112.0446,
        "RUB": 102.2361,
        "RWF": 1405.0941,
        "SAR": 3.7500,
        "SBD": 8.5860,
        "SCR": 14.3004,
        "SDG": 592.9745,
        "SEK": 11.0533,
        "SGD": 1.3476,
        "SHP": 0.7978,
        "SLE": 22.8887,
        "SLL": 22888.6638,
        "SOS": 578.1383,
        "SRD": 36.0580,
        "SSP": 3407.3824,
        "STN": 23.5111,
        "SYP": 13130.9897,
        "SZL": 18.0985,
        "THB": 34.5799,
        "TJS": 10.7440,
        "TMT": 3.5249,
        "TND": 3.1768,
        "TOP": 2.3859,
        "TRY": 34.5637,
        "TTD": 6.8365,
        "TVD": 1.5382,
        "TWD": 32.5468,
        "TZS": 2642.2198,
        "UAH": 41.3089,
        "UGX": 3729.6898,
        "UYU": 43.2184,
        "UZS": 12971.2019,
        "VES": 46.6176,
        "VND": 25435.2135,
        "VUV": 120.6669,
        "WST": 2.7961,
        "XAF": 629.4798,
        "XCD": 2.7000,
        "XDR": 0.7694,
        "XOF": 629.4798,
        "XPF": 114.5153,
        "YER": 252.6387,
        "ZAR": 18.0986,
        "ZMW": 27.9335,
        "ZWL": 25.3326,
    },
}


@router.get("/")
async def home_page(request: Request):
    # weather, currency = await get_weather()

    return templates.TemplateResponse(
        request=request,
        name="index.html",
        context={"weather": weather, "currency": currency},
    )
